!function(e,t,$){"use strict";if(!$||!t){var o=$?t?"":"SharePoint 2013":"jQuery 2.x";throw new Error("Missing dependency. "+o+" is required for $go.")}var n={returnType:"JSON"},r="2.3.0",a,s={get:{accept:"application/json; odata=verbose"},post:{"X-RequestDigest":$("#__REQUESTDIGEST").val(),accept:"application/json; odata=verbose","content-type":"application/json; odata=verbose"},merge:{"X-HTTP-Method":"MERGE",accept:"application/json;odata=verbose","content-type":"application/json;odata=verbose","X-RequestDigest":$("#__REQUESTDIGEST").val(),"IF-MATCH":"*"},put:{"X-HTTP-Method":"PUT",accept:"application/json;odata=verbose","content-type":"application/json;odata=verbose","X-RequestDigest":$("#__REQUESTDIGEST").val(),"IF-MATCH":"*"},remove:{"X-HTTP-Method":"DELETE",accept:"application/json;odata=verbose","content-type":"application/json;odata=verbose","X-RequestDigest":$("#__REQUESTDIGEST").val(),"IF-MATCH":"*"},xml:{accept:"application/atom+xml","content-type":"application/atom+xml"}},i=function e(t){return t.url=p.checkUrl(t.url),t.header=null!==t.ifMatch?t.header["IF-MATCH"]=t.ifMatch:t.header,t.ctx.options&&"XML"===t.ctx.options.returnType&&(t.header.accept=s.xml.accept,t.header["content-type"]=s.xml["content-type"]),$.ajax(t)},p={isValidJson:function t(o){try{return e.JSON.parse(o),!0}catch(e){return!1}},parseUrl:function e(t){for(var o=/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/g,n=t,r={},a;null!==(a=o.exec(n));)a.index===o.lastIndex&&o.lastIndex++,a.forEach(function(e,t){r[t]=e});return r},checkUrl:function e(o){var n=/^\//,r=this.parseUrl(o);return"http"===r[2]||"https"===r[2]?o:-1!==r[5].indexOf(".com")?window.location.protocol+"//"+o:n.test(o)?t.webAbsoluteUrl+o:t.webAbsoluteUrl+"/"+o},getRequestDigest:function e(){return this.get("/_api/contextinfo")},sortByKey:function e(t,o){return function e(n,r){return o?n[t]<r[t]:n[t]>r[t]}}},u={getCurrentUser:function e(){return this.get({url:"/_api/web/currentuser"})},getInfoForUser:function e(t){return this.get({url:"/_vti_bin/ListData.svc/UserInformationList?$filter=Id%20eq%20"+t})},createGroup:function e(t){return this.post({url:"/_api/web/sitegroups/",data:'{"__metadata": {"type":"SP.Group"}, "Title":"'+t+'" }'})},addToGroup:function e(t,o){return this.post({url:"/_api/web/sitegroups("+t+")/users",data:'{"__metadata": {"type":"SP.User"}, "LoginName":"'+o+'" }'})},removeFromGroup:function e(t,o){return this.post({url:"/_api/web/sitegroups("+t+")/users/removebyid("+o+")"})},getUsersForRole:function(e){var t='<?xml version="1.0" encoding="utf-8"?><soap12:Envelope xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:soap12="http://www.w3.org/2003/05/soap-envelope"><soap12:Body><GetUserCollectionFromRole xmlns="http://schemas.microsoft.com/sharepoint/soap/directory/"> <roleName>'+e+"</roleName></GetUserCollectionFromRole> </soap12:Body></soap12:Envelope>";return this.get({url:"/_vti_bin/usergroup.asmx",data:t})},addRole:function e(t){var o='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"><soap:Body><AddUserToRole xmlns="http://schemas.microsoft.com/sharepoint/soap/directory/"><roleName>'+t.role+"</roleName><userName>"+t.username+"</userName><userLoginName>"+t.loginName+"</userLoginName><userEmail>"+t.email+"</userEmail><userNotes>"+t.notes+"</userNotes></AddUserToRole></soap:Body></soap:Envelope>";return this.get({url:"/_vti_bin/UserGroup.asmx",data:o})},removeRole:function e(t,o){var n='<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"><soap:Body> <RemoveUserFromRole xmlns="http://schemas.microsoft.com/sharepoint/soap/directory/"> <roleName>'+t+"</roleName><userLoginName>"+o+"</userLoginName></RemoveUserFromRole></soap:Body></soap:Envelope>";return this.get({url:"/_vti_bin/UserGroup.asmx",data:n})}},l={getCurrentSite:function e(){return this.get({url:"/_api/web/"})},createSite:function t(o){var n=e.JSON.stringify({parameters:{__metadata:{type:"SP.WebInfoCreationInformation"},Url:o.url,Title:o.title,Description:o.description||"",Language:o.language||1033,WebTemplate:o.webTemplate||"sts",UseUniquePermissions:o.uniquePermissions||!1}});return this.post({url:"/_api/web/webinfos/add",data:n})},getSubSites:function e(){return this.get({url:"/_api/web/webinfos/"})},getParentSite:function e(){return this.get({url:"/_api/web/parentweb"})}},c={getListItem:function(e,t){return this.get({url:"/_api/web/lists/GetByTitle('"+e+"')/items('"+t+"')"})},getListItems:function e(t){return this.get({url:"/_api/web/lists/getByTitle('"+t+"')/items"})},createList:function t(o){var n={__metadata:{type:"SP.List"},AllowContentTypes:o.allowContentTypes||!0,BaseTemplate:o.baseTemplate||100,ContentTypesEnabled:o.contentTypesEnabled||!0,Description:o.description||"",Title:o.title};return this.post({url:"/_api/web/lists/",data:e.JSON.stringify(n)})},addListColumns:function(e){var t="/_api/web/Lists/getbytitle('"+e.listName+"')/fields",o=e.columns,n=o.length,r,a;for(a=0;a<n;a+=1)r+="{ '__metadata': { 'type': 'SP.Field' }, 'FieldTypeKind': "+o[a].type+", 'Title':'"+o[a].name+"'}";return this.post({url:t,data:r})},addContentTypetoList:function(e,t){this.post({url:"/_api/web/lists/getbytitle('"+e+"')/ContentTypes/AddAvailableContentType",data:{contentTypeId:t}})}};a=function(){return new a.fn.init},a.fn=a.prototype={version:"2.3.0",constructor:a,customHeaders:{},init:function(){return this.options=n,this},config:function e(t){var o=new a.fn.init;return $.extend(o.options,t),o},get:function(e){var t="object"==typeof e?e:{url:e};return t.method="GET",t.header=e.header||s.get,t.data=null,t.context=this,t.dataType=e.jsonp||!1,i(t)},post:function(e){var t={method:"POST",url:e.url,data:e.data,header:e.header||s.post,dataType:e.jsonp||!1,context:this};return i(t)},merge:function(e){var t={method:"POST",url:e.url,data:e.data,header:e.header||s.merge,ifMatch:e.ifMatch,dataType:e.jsonp||!1,context:this};return i(t)},put:function(e){var t={method:"POST",url:e.url,data:e.data,header:e.header||s.put,ifMatch:e.ifMatch,dataType:e.jsonp||!1,context:this};return i(t)},remove:function(e){var t={method:"POST",url:e.url,data:e.data,header:e.header||s.remove,ifMatch:e.ifMatch,dataType:e.jsonp||!1,context:this};return i(t)},registerPlugin:function t(o,n){var r={},s="Your plugin has been registered.";if(o.name&&!n)return r[o.name]=o.plugin,$.extend(a.fn,r),s;if(n)return $.extend(a.fn,o),s;throw new e.Error("registerPlugin(): Object must have a name attribute.")},addHeaderTemplate:function t(o){var n={},r="Your header has been added.";if(o.name&&"object"==typeof o.header)return n[o.name]=o.header,$.extend(a.fn.customHeaders,n),"Your header has been added.";throw new e.Error("addHeaderTemplate(): Object must have a name attribute.")}},a.fn.init.prototype=a.fn,$.extend(a.prototype,p,u,l,c),e.$go=a()}(window,_spPageContextInfo,window.jQuery);
//# sourceMappingURL=./goSP.js.map